!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("lodash-es")):"function"==typeof define&&define.amd?define(["exports","lodash-es"],e):e((t.ap=t.ap||{},t.ap.changeDetection={}),t._)}(this,function(t,e){"use strict";class n{constructor(t){return this.target=t,this.lookup={getter:{},setter:{}},this}getter(t){if(this.target)return this.lookup.getter[t]=this.target.prototype.__lookupGetter__(t)}setter(t){if(this.target)return this.lookup.setter[t]=this.target.prototype.__lookupSetter__(t)}lookupGetter(t,e){return e?e.__proto__.__lookupGetter__(t):this.target?this.lookup.getter[t]:void 0}lookupSetter(t,e){return e?e.__proto__.__lookupSetter__(t):this.target?this.lookup.setter[t]:void 0}replaceAll(t){t&&e.each(t.changeDetection.properties,(e,n)=>{this.replace(t,n)})}replace(t,e,n){const i=t[e],o=this.lookupGetter(e,t),r=this.lookupSetter(e,t);Object.defineProperty(t,e,{set:function(t){void 0!==r?r.apply(this,arguments):this[`_${e}`]=t,this.hasOwnProperty("changeDetection")&&!0===this.changeDetection.properties[e]&&this.__detect()},get:function(){return o?o.apply(this,arguments):this[`_${e}`]}}),t[e]=i}store(t){if(void 0===e.each)throw new Error(function(t){if(t)return{undefined:`${t} is not defined`}}("lodash imported as _").undefined);return e.each(t,(t,e)=>{this.getter(e),this.setter(e)}),this}}class i{constructor(t){this.component=t,this.find(t)}detach(){this.cd&&this.component[this.cd].detach()}detect(){this.cd&&this.component[this.cd].detectChanges()}reattach(){this.cd&&this.component[this.cd].reattach()}find(t){let n;var i;return e.each(t,(e,o)=>{if(t[o]instanceof Object&&(i=t[o],"detectChanges"in i&&t[o].detectChanges instanceof Function))return n=o,!1}),this.cd=n}}t.ChangeDetection=function(t=!0,e){return function(o){const r=new n(o).store(e),c=o.prototype.ngAfterContentInit,s=o.prototype.ngOnInit;o.prototype.ngOnInit=function(){const n=new i(this);e=Object.assign({},e),this.changeDetection={detection:t,properties:e,ready:!1},Object.defineProperties(this,{__detach:{writable:!1,value:function(){n.detach()}},__detect:{writable:!1,value:function(){n.detect()}},__detection:{set:function(t){this.changeDetection.detection=t,!0===this.changeDetection.ready&&(!1===t?n.detach():!0===t&&this.changeDetector.reattach(),n.detect())},get:function(){return this.changeDetection.detection}},__properties:{set:function(t){!0===this.changeDetection.ready&&n.detect(),this.changeDetection.properties=t},get:function(){return this.changeDetection.properties}},__reattach:{writable:!1,value:function(){n.reattach()}}}),r.replaceAll(this),s&&s.apply(this,arguments)},o.prototype.ngAfterContentInit=function(){this.changeDetection.ready=!0,setTimeout(()=>{this.__detection=t},0),c&&c.apply(this,arguments)}}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=bundle.umd.js.map
